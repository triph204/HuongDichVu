@model BanAnViewModel

@{
    ViewData["Title"] = $"QR Code - B√†n {Model.SoBan}";
    var qrUrl = ViewBag.QrUrl as string;
}

<div class="qr-detail-container">
    <div class="qr-detail-header">
        <a href="@Url.Action("Index")" class="btn btn-secondary">‚Üê Quay L·∫°i</a>
        <h2>üì± QR Code - B√†n @Model.SoBan</h2>
    </div>

    <div class="qr-detail-content">
        <!-- QR Code l·ªõn -->
        <div class="qr-display">
            <div class="qr-image-large">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=400x400&data=@qrUrl" 
                     alt="QR B√†n @Model.SoBan" />
            </div>
            
            <div class="qr-info">
                <p><strong>S·ªë B√†n:</strong> @Model.SoBan</p>
                <p><strong>Tr·∫°ng Th√°i:</strong> 
                    <span class="badge @(Model.TrangThai == "Tr·ªëng" ? "badge-success" : "badge-warning")">
                        @Model.TrangThai
                    </span>
                </p>
                <p><strong>URL:</strong> <code>@qrUrl</code></p>
            </div>

            <div class="qr-actions-large">
                <a href="https://api.qrserver.com/v1/create-qr-code/?size=800x800&data=@qrUrl" 
                   download="QR_Ban_@(Model.SoBan)_Large.png" 
                   class="btn btn-primary">
                    üíæ T·∫£i QR Code (800x800)
                </a>
                <a href="https://api.qrserver.com/v1/create-qr-code/?size=1200x1200&data=@qrUrl" 
                   download="QR_Ban_@(Model.SoBan)_HD.png" 
                   class="btn btn-success">
                    üíæ T·∫£i QR Code (1200x1200)
                </a>
                <button onclick="window.print()" class="btn btn-info">
                    üñ®Ô∏è In QR Code
                </button>
            </div>
        </div>

        <!-- H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng -->
        <div class="qr-instructions">
            <h3>üìñ H∆∞·ªõng D·∫´n S·ª≠ D·ª•ng</h3>
            <ol>
                <li>In m√£ QR n√†y v√† ƒë·∫∑t tr√™n b√†n ƒÉn s·ªë <strong>@Model.SoBan</strong></li>
                <li>Kh√°ch h√†ng d√πng ƒëi·ªán tho·∫°i qu√©t m√£ QR</li>
                <li>H·ªá th·ªëng t·ª± ƒë·ªông nh·∫≠n di·ªán b√†n v√† cho ph√©p ƒë·∫∑t m√≥n</li>
                <li>ƒê∆°n h√†ng s·∫Ω ƒë∆∞·ª£c g·ª≠i tr·ª±c ti·∫øp ƒë·∫øn b·∫øp</li>
            </ol>

            <div class="qr-note">
                üí° <strong>L∆∞u √Ω:</strong> M·ªói b√†n c√≥ m√£ QR ri√™ng ƒë·ªÉ h·ªá th·ªëng nh·∫≠n di·ªán ch√≠nh x√°c v·ªã tr√≠ kh√°ch h√†ng
            </div>
        </div>
    </div>
</div>

<style>
    .qr-detail-container {
        max-width: 900px;
        margin: 0 auto;
    }

    .qr-detail-header {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 30px;
    }

    .qr-detail-header h2 {
        margin: 0;
        flex: 1;
    }

    .qr-detail-content {
        display: grid;
        gap: 30px;
    }

    .qr-display {
        background: white;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        text-align: center;
    }

    .qr-image-large {
        margin-bottom: 30px;
        padding: 20px;
        background: #f9f9f9;
        border-radius: 12px;
        display: inline-block;
    }

    .qr-image-large img {
        max-width: 100%;
        height: auto;
        border: 3px solid #ddd;
        border-radius: 8px;
    }

    .qr-info {
        margin: 20px 0;
        text-align: left;
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
    }

    .qr-info p {
        margin: 10px 0;
        font-size: 16px;
    }

    .qr-info code {
        background: #e9ecef;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 14px;
        word-break: break-all;
    }

    .qr-actions-large {
        display: flex;
        gap: 15px;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 20px;
    }

    .qr-instructions {
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    .qr-instructions h3 {
        margin-top: 0;
        color: #333;
    }

    .qr-instructions ol {
        line-height: 2;
        font-size: 16px;
    }

    .qr-note {
        margin-top: 20px;
        padding: 15px;
        background: #fff3cd;
        border-left: 4px solid #ffc107;
        border-radius: 4px;
    }

    /* Print styles */
    @@media print {
        .qr-detail-header,
        .qr-actions-large,
        .qr-instructions {
            display: none !important;
        }

        .qr-display {
            box-shadow: none;
            border: 2px solid #000;
        }

        .qr-info {
            border: 1px solid #000;
        }
    }
</style>